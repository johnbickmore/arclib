<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>arclib &mdash; arclib 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="arclib 0.1 documentation" href="#" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="arclib">
<h1>arclib<a class="headerlink" href="#arclib" title="Permalink to this headline">¶</a></h1>
<p>Python has a very thorough standard library, including a variety of modules for
compressing and decompressing data. However, all of them have different APIs for
working with them., leading to difficulty in attempting to support multiple
archive formats. arclib is an attempt to fix this by providing a common API that
bridges the various archive modules in Python.</p>
<div class="section" id="archive-categories">
<h2>Archive categories<a class="headerlink" href="#archive-categories" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">arclib</span></code> divides Python&#8217;s five archive modules (<a class="reference external" href="https://docs.python.org/3/library/zipfile.html">zipfile</a>, <a class="reference external" href="https://docs.python.org/3/library/tarfile.html">tarfile</a>, <a class="reference external" href="https://docs.python.org/3/library/lzma.html">lzma</a>,
<a class="reference external" href="https://docs.python.org/3/library/bzip2.html">bzip2</a>, and <a class="reference external" href="https://docs.python.org/3/library/gzip.html">gzip</a>) into three categories:</p>
<ul class="simple">
<li>Basic, one-shot: the only compression method in this category is gzip. With
gzip, the only allowed method of compression and decompression is &#8220;one-shot&#8221;,
where all the data must be processed at once.</li>
<li>Basic, incremental: LZMA and bzip2 fall under here. These not only allow
one-shot but also incremental compression and decompression, where the data is
fed in in small chunks.</li>
<li>Complex, file-system: Tar and zip both are considering &#8220;complex&#8221; in arclib, in
that they both allow one to store entire directory trees, not just chunks of
data.</li>
</ul>
</div>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<p>arclib contains the following modules:</p>
<div class="section" id="basic-compression-decompression">
<h3>Basic compression/decompression<a class="headerlink" href="#basic-compression-decompression" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>arclib.gz:</strong> A module that exposes a basic, one-shot gzip
compression/decompression API.</li>
<li><strong>arclib.bz2</strong>: A module that exposes both a basic, one-shot bzip2
compression/decompression and an incremental API.</li>
<li><strong>arclib.lzma</strong>: A module that exposes both a basic, one-shot LZMA
compression/decompression and an incremental API.</li>
</ul>
<p><strong>Note that arclib.gz does not expose an incremental API.</strong></p>
</div>
<div class="section" id="complex-file-system-compression-decompression">
<h3>Complex, file-system compression/decompression<a class="headerlink" href="#complex-file-system-compression-decompression" title="Permalink to this headline">¶</a></h3>
<p>Both <strong>arclib.zip</strong> and <strong>arclib.tar</strong> expose an API that allows for manipulation
of their respective complex archive formats.</p>
</div>
</div>
<div class="section" id="the-apis">
<h2>The APIs<a class="headerlink" href="#the-apis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base">
<h3>Base<a class="headerlink" href="#base" title="Permalink to this headline">¶</a></h3>
<p>All modules in arclib implement this API:</p>
<dl class="function">
<dt id="open">
<code class="descname">open</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#open" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="docutils literal"><span class="pre">File</span></code> with the given arguments. Each module&#8217;s <code class="docutils literal"><span class="pre">open</span></code> function
is an alias for it&#8217;s corresponding Python module&#8217;s <code class="docutils literal"><span class="pre">open</span></code> and therefore
returns the module&#8217;s <code class="docutils literal"><span class="pre">File</span></code>. For instance, <code class="docutils literal"><span class="pre">arclib.gz.open</span></code> is an alias
for Python&#8217;s own <code class="docutils literal"><span class="pre">gzip.open</span></code> and returns <code class="docutils literal"><span class="pre">gzip.GzipFile</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="basic-one-shot">
<h3>Basic, one-shot<a class="headerlink" href="#basic-one-shot" title="Permalink to this headline">¶</a></h3>
<p>All the &#8220;basic&#8221; modules (gz, bz2, and lzma) implement this API:</p>
<p>detach, truncate
<a class="reference external" href="https://docs.python.org/3/library/io.html#io.BufferedIOBase">https://docs.python.org/3/library/io.html#io.BufferedIOBase</a></p>
<dl class="function">
<dt id="compress">
<code class="descname">compress</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#compress" title="Permalink to this definition">¶</a></dt>
<dd><p>Compresses data using the corresponding compression method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>bytes</em>) &#8211; The data to compress.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns bytes:</th><td class="field-body">The compressed data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="decompress">
<code class="descname">decompress</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>Decompresses data using the corresponding decompression method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>bytes</em>) &#8211; The data to decompress.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns bytes:</th><td class="field-body">The decompressed data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>In addition, their <code class="docutils literal"><span class="pre">open</span></code> function is the same as the base API.</p>
</div>
<div class="section" id="basic-incremental">
<h3>Basic, incremental<a class="headerlink" href="#basic-incremental" title="Permalink to this headline">¶</a></h3>
<p>Both arclib.bz2 and arclib.lzma (<strong>*not*</strong> arclib.gz) implement this API.</p>
<dl class="class">
<dt id="Compressor">
<em class="property">class </em><code class="descname">Compressor</code><a class="headerlink" href="#Compressor" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that implements incremental compression. All types of this kind are
instances of <code class="docutils literal"><span class="pre">arclib.AbstractBasicCompressor</span></code>. Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_compressor</span> <span class="o">=</span> <span class="n">arclib</span><span class="o">.</span><span class="n">bz2</span><span class="o">.</span><span class="n">Compressor</span><span class="p">()</span> <span class="c"># The compressor object.</span>
<span class="n">compressed_data</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;&#39;</span> <span class="c"># The resulting compressed data.</span>
<span class="n">compressed_data</span> <span class="o">+=</span> <span class="n">my_compressor</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;Something to compress...&#39;</span><span class="p">)</span>
<span class="n">compressed_data</span> <span class="o">+=</span> <span class="n">my_compressor</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;More stuff!&#39;</span><span class="p">)</span>
<span class="n">compressed_data</span> <span class="o">+=</span> <span class="n">my_compressor</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span> <span class="c"># Always remember the flush call!</span>
</pre></div>
</div>
<dl class="method">
<dt id="Compressor.compress">
<code class="descname">compress</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#Compressor.compress" title="Permalink to this definition">¶</a></dt>
<dd><p>Incrementally compresses data using the corresponding compression method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>bytes</em>) &#8211; The data to compress.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns bytes:</th><td class="field-body">A portion of compressed data, or an empty byte string. Note
that this data is <strong>not</strong> considered valid on its own, and
must be combined with both other calls to <code class="docutils literal"><span class="pre">compress</span></code> and
the result of :py:method:flush.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Compressor.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Compressor.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the compressor&#8217;s internal buffers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns bytes:</th><td class="field-body">The rest of the compressed data.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Decompressor">
<em class="property">class </em><code class="descname">Decompressor</code><a class="headerlink" href="#Decompressor" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that implements incremental compression. All types of this kind are
instances of <code class="docutils literal"><span class="pre">arclib.AbstractBasicDecompressor</span></code>. Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">compressed_data</span> <span class="o">=</span> <span class="n">arclib</span><span class="o">.</span><span class="n">bz2</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;Some data to compress!&#39;</span><span class="p">)</span>
<span class="n">my_decompressor</span> <span class="o">=</span> <span class="n">arclib</span><span class="o">.</span><span class="n">bz2</span><span class="o">.</span><span class="n">Decompressor</span><span class="p">()</span> <span class="c"># The decompressor object.</span>
<span class="n">decompressed_data</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;&#39;</span> <span class="c"># The resulting decompressed data.</span>
<span class="c"># Decompress some data.</span>
<span class="n">decompressed_data</span> <span class="o">+=</span> <span class="n">my_decompressor</span><span class="o">.</span><span class="n">decompress</span><span class="p">(</span><span class="n">compressed_data</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
<span class="c"># And some more data!</span>
<span class="n">decompressed_data</span> <span class="o">+=</span> <span class="n">my_decompressor</span><span class="o">.</span><span class="n">decompress</span><span class="p">(</span><span class="n">compressed_data</span><span class="p">[</span><span class="mi">5</span><span class="p">:])</span>
<span class="k">assert</span> <span class="n">decompressed_data</span> <span class="o">==</span> <span class="n">b</span><span class="s">&#39;Some data to compress!&#39;</span>
<span class="k">assert</span> <span class="n">my_decompressor</span><span class="o">.</span><span class="n">eof</span>
</pre></div>
</div>
<dl class="method">
<dt id="Decompressor.decompress">
<code class="descname">decompress</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#Decompressor.decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>Incrementally decompresses data using the corresponding decompression
method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>bytes</em>) &#8211; The data to decompress.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns bytes:</th><td class="field-body">A portion of decompressed data, or an empty byte string.
Note that this data is <strong>not</strong> the complete decompressed
data, and must be combined with other calls to
<code class="docutils literal"><span class="pre">decompress</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Decompressor.eof">
<code class="descname">eof</code><a class="headerlink" href="#Decompressor.eof" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the end of the compressed data has been reached.</p>
</dd></dl>

<dl class="attribute">
<dt id="Decompressor.unused_data">
<code class="descname">unused_data</code><a class="headerlink" href="#Decompressor.unused_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Any unused data left over after the decompression completed.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">arclib</a><ul>
<li><a class="reference internal" href="#archive-categories">Archive categories</a></li>
<li><a class="reference internal" href="#modules">Modules</a><ul>
<li><a class="reference internal" href="#basic-compression-decompression">Basic compression/decompression</a></li>
<li><a class="reference internal" href="#complex-file-system-compression-decompression">Complex, file-system compression/decompression</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-apis">The APIs</a><ul>
<li><a class="reference internal" href="#base">Base</a></li>
<li><a class="reference internal" href="#basic-one-shot">Basic, one-shot</a></li>
<li><a class="reference internal" href="#basic-incremental">Basic, incremental</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Ryan Gonzalez.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>